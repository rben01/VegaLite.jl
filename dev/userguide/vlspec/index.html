<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Vega-lite specifications · VegaLite.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">VegaLite.jl</span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../../gettingstarted/installation/">Installation</a></li><li><a class="tocitem" href="../../gettingstarted/tutorial/">Tutorial</a></li></ul></li><li><span class="tocitem">User Guide</span><ul><li class="is-active"><a class="tocitem" href>Vega-lite specifications</a><ul class="internal"><li><a class="tocitem" href="#The-@vlplot-macro-1"><span>The <code>@vlplot</code> macro</span></a></li><li><a class="tocitem" href="#The-vl-string-macro-1"><span>The <code>vl</code> string macro</span></a></li><li><a class="tocitem" href="#Manipulating-VLSpec-object-directly-1"><span>Manipulating <code>VLSpec</code> object directly</span></a></li><li><a class="tocitem" href="#Loading-and-saving-vega-lite-specifications-1"><span>Loading and saving vega-lite specifications</span></a></li><li><a class="tocitem" href="#[DataVoyager.jl](https://github.com/queryverse/DataVoyager.jl)-1"><span>DataVoyager.jl</span></a></li><li><a class="tocitem" href="#Displaying-plots-1"><span>Displaying plots</span></a></li><li><a class="tocitem" href="#Saving-plots-1"><span>Saving plots</span></a></li></ul></li><li><a class="tocitem" href="../vlplotmacro/">The @vlplot command</a></li><li><a class="tocitem" href="../data/">Data sources</a></li><li><a class="tocitem" href="../vega/">Using Vega</a></li></ul></li><li><span class="tocitem">Examples</span><ul><li><input class="collapse-toggle" id="menuitem-4-1" type="checkbox"/><label class="tocitem" for="menuitem-4-1"><span class="docs-label">Vega-Lite</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-4-1-1" type="checkbox"/><label class="tocitem" for="menuitem-4-1-1"><span class="docs-label">Single-View Plots</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../examples/examples_barcharts/">Bar Charts</a></li><li><a class="tocitem" href="../../examples/examples_histograms/">Histograms, Density Plots, and Dot Plots</a></li><li><a class="tocitem" href="../../examples/examples_scatter_strip_plots/">Scatter &amp; Strip Plots</a></li><li><a class="tocitem" href="../../examples/examples_line_charts/">Line Charts</a></li><li><a class="tocitem" href="../../examples/examples_area_Charts_streamgraphs/">Area Charts &amp; Streamgraphs</a></li><li><a class="tocitem" href="../../examples/examples_table_based_plots/">Table-based Plots</a></li><li><a class="tocitem" href="../../examples/examples_advancedcalculations/">Advanced Calculations</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-1-2" type="checkbox"/><label class="tocitem" for="menuitem-4-1-2"><span class="docs-label">Composite Mark</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../examples/examples_error_bars_bands/">Error Bars &amp; Error Bands</a></li><li><a class="tocitem" href="../../examples/examples_box_plots/">Box Plots</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-1-3" type="checkbox"/><label class="tocitem" for="menuitem-4-1-3"><span class="docs-label">Multi-View Displays</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../examples/examples_faceting/">Faceting (Trellis Plot / Small Multiples)</a></li><li><a class="tocitem" href="../../examples/examples_repeat_concatenation/">Repeat &amp; Concatenation</a></li></ul></li><li><a class="tocitem" href="../../examples/examples_maps/">Maps (Geographic Displays)</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-2" type="checkbox"/><label class="tocitem" for="menuitem-4-2"><span class="docs-label">Vega</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../examples/examples_vega_bar_charts/">Bar Charts</a></li><li><a class="tocitem" href="../../examples/examples_vega_line_area_charts/">Line &amp; Area Charts</a></li><li><a class="tocitem" href="../../examples/examples_vega_circular_charts/">Circular Charts</a></li><li><a class="tocitem" href="../../examples/examples_vega_scatter_plots/">Scatter Plots</a></li><li><a class="tocitem" href="../../examples/examples_vega_tree_diagrams/">Tree Diagrams</a></li><li><a class="tocitem" href="../../examples/examples_vega_network_diagrams/">Network Diagrams</a></li><li><a class="tocitem" href="../../examples/examples_vega_single_data_source/">Single Data Source</a></li><li><a class="tocitem" href="../../examples/examples_vega_multi_data_source/">Multiple Data Source</a></li></ul></li></ul></li><li><span class="tocitem">Reference Manual</span><ul><li><a class="tocitem" href="../../referencemanual/global/">Global settings</a></li><li><a class="tocitem" href="../../referencemanual/output/">Outputs</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">User Guide</a></li><li class="is-active"><a href>Vega-lite specifications</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Vega-lite specifications</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/queryverse/VegaLite.jl/blob/master/docs/src/userguide/vlspec.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Vega-lite-specifications-1"><a class="docs-heading-anchor" href="#Vega-lite-specifications-1">Vega-lite specifications</a><a class="docs-heading-anchor-permalink" href="#Vega-lite-specifications-1" title="Permalink"></a></h1><p>A <a href="https://vega.github.io/vega-lite/">Vega-Lite</a> plot specification is represented as a <code>VLSpec</code> object in Julia. There are multiple ways to create a <code>VLSpec</code> object:</p><ol><li>The <code>@vlplot</code> macro is the main way to create <code>VLSpec</code> instances in code.</li><li>Using the <code>vl</code> string macro, you can write <a href="https://vega.github.io/vega-lite/">Vega-Lite</a> specifications as JSON in your Julia code.</li><li>You can load <a href="https://vega.github.io/vega-lite/">Vega-Lite</a> specifications from disc with the <code>load</code> function.</li><li>The <a href="https://github.com/queryverse/DataVoyager.jl">DataVoyager.jl</a> package provides a graphical user interface that you can use to create <a href="https://vega.github.io/vega-lite/">Vega-Lite</a> specification.</li></ol><p>There are two main things one can do with a <code>VLSpec</code> object:</p><ol><li>One can display it in various front ends.</li><li>One can save the plot to disc in various formats using the <code>save</code> function.</li></ol><p>This section will give a brief overview of these options. Other sections will describe each option in more detail.</p><h2 id="The-@vlplot-macro-1"><a class="docs-heading-anchor" href="#The-@vlplot-macro-1">The <code>@vlplot</code> macro</a><a class="docs-heading-anchor-permalink" href="#The-@vlplot-macro-1" title="Permalink"></a></h2><p>The <code>@vlplot</code> macro is the main way to specify plots in <a href="https://github.com/queryverse/VegaLite.jl">VegaLite.jl</a>. The macro uses a syntax that is closely aligned with the JSON format of the original <a href="https://vega.github.io/vega-lite/">Vega-Lite</a> specification. It is very simple to take a vega-lite specification and &quot;translate&quot; it into a corresponding <code>@vlplot</code> macro call. In addition, the macro provides a number of convenient syntax features that allow for a concise expression of common vega-lite patterns. These shorthands give <a href="https://github.com/queryverse/VegaLite.jl">VegaLite.jl</a> a syntax that can be used in a productive way for exploratory data analysis.</p><p>A very simple <a href="https://vega.github.io/vega-lite/">Vega-Lite</a> JSON specification looks like this:</p><pre><code class="language-json">{
  &quot;data&quot;: {
    &quot;values&quot;: [
      {&quot;a&quot;: &quot;A&quot;,&quot;b&quot;: 28}, {&quot;a&quot;: &quot;B&quot;,&quot;b&quot;: 55}, {&quot;a&quot;: &quot;C&quot;,&quot;b&quot;: 43},
      {&quot;a&quot;: &quot;D&quot;,&quot;b&quot;: 91}, {&quot;a&quot;: &quot;E&quot;,&quot;b&quot;: 81}, {&quot;a&quot;: &quot;F&quot;,&quot;b&quot;: 53},
      {&quot;a&quot;: &quot;G&quot;,&quot;b&quot;: 19}, {&quot;a&quot;: &quot;H&quot;,&quot;b&quot;: 87}, {&quot;a&quot;: &quot;I&quot;,&quot;b&quot;: 52}
    ]
  },
  &quot;mark&quot;: &quot;bar&quot;,
  &quot;encoding&quot;: {
    &quot;x&quot;: {&quot;field&quot;: &quot;a&quot;, &quot;type&quot;: &quot;ordinal&quot;},
    &quot;y&quot;: {&quot;field&quot;: &quot;b&quot;, &quot;type&quot;: &quot;quantitative&quot;}
  }
}</code></pre><p>This can be directly translated into the following <code>@vlplot</code> macro call:</p><pre><code class="language-julia">using VegaLite

@vlplot(
    data={
        values=[
            {a=&quot;A&quot;,b=28},{a=&quot;B&quot;,b=55},{a=&quot;C&quot;,b=43},
            {a=&quot;D&quot;,b=91},{a=&quot;E&quot;,b=81},{a=&quot;F&quot;,b=53},
            {a=&quot;G&quot;,b=19},{a=&quot;H&quot;,b=87},{a=&quot;I&quot;,b=52}
        ]
    },
    mark=&quot;bar&quot;,
    encoding={
        x={field=&quot;a&quot;, type=&quot;ordinal&quot;},
        y={field=&quot;b&quot;, type=&quot;quantitative&quot;}
    }
)</code></pre><p>The main difference between JSON and the <code>@vlplot</code> macro is that keys are not surrounded by quotation marks in the macro, and key-value pairs are separate by a <code>=</code> (instead of a <code>:</code>).</p><p>While these literal translations of JSON work, they are also quite verbose. The <code>@vlplot</code> macro provides a number of shorthands so that the same plot can be expressed in a much more concise manner. The following example creates the same plot, but uses a number of alternative syntaxes provided by the <code>@vlplot</code> macro:</p><pre><code class="language-julia">using VegaLite, DataFrames

data = DataFrame(
    a=[&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;,&quot;E&quot;,&quot;F&quot;,&quot;G&quot;,&quot;H&quot;,&quot;I&quot;],
    b=[28,55,43,91,81,53,19,87,52]
)

data |&gt; @vlplot(:bar, :a, :b)</code></pre><p>Typically you should use these shorthands so that you can express your plots in a concise way. The various shorthands are described in more detail in a different chapter.</p><h2 id="The-vl-string-macro-1"><a class="docs-heading-anchor" href="#The-vl-string-macro-1">The <code>vl</code> string macro</a><a class="docs-heading-anchor-permalink" href="#The-vl-string-macro-1" title="Permalink"></a></h2><p>One can embed a JSON vega-lite specification directly in Julia code by using the <code>vl</code> string macro:</p><pre><code class="language-julia">using VegaLite

spec = vl&quot;&quot;&quot;
{
  &quot;$schema&quot;: &quot;https://vega.github.io/schema/vega-lite/v2.json&quot;,
  &quot;description&quot;: &quot;A simple bar chart with embedded data.&quot;,
  &quot;data&quot;: {
    &quot;values&quot;: [
      {&quot;a&quot;: &quot;A&quot;,&quot;b&quot;: 28}, {&quot;a&quot;: &quot;B&quot;,&quot;b&quot;: 55}, {&quot;a&quot;: &quot;C&quot;,&quot;b&quot;: 43},
      {&quot;a&quot;: &quot;D&quot;,&quot;b&quot;: 91}, {&quot;a&quot;: &quot;E&quot;,&quot;b&quot;: 81}, {&quot;a&quot;: &quot;F&quot;,&quot;b&quot;: 53},
      {&quot;a&quot;: &quot;G&quot;,&quot;b&quot;: 19}, {&quot;a&quot;: &quot;H&quot;,&quot;b&quot;: 87}, {&quot;a&quot;: &quot;I&quot;,&quot;b&quot;: 52}
    ]
  },
  &quot;mark&quot;: &quot;bar&quot;,
  &quot;encoding&quot;: {
    &quot;x&quot;: {&quot;field&quot;: &quot;a&quot;, &quot;type&quot;: &quot;ordinal&quot;},
    &quot;y&quot;: {&quot;field&quot;: &quot;b&quot;, &quot;type&quot;: &quot;quantitative&quot;}
  }
}
&quot;&quot;&quot;</code></pre><p>The resulting <code>VLSpec</code> object is indistinguishable from one that is created via the <code>@vlplot</code> macro.</p><p>The main benefit of this approach is that one can directly leverage JSON vega-lite examples and code.</p><h2 id="Manipulating-VLSpec-object-directly-1"><a class="docs-heading-anchor" href="#Manipulating-VLSpec-object-directly-1">Manipulating <code>VLSpec</code> object directly</a><a class="docs-heading-anchor-permalink" href="#Manipulating-VLSpec-object-directly-1" title="Permalink"></a></h2><p>Vega-Lite properties can be directly accessed as properties of the <code>VLSpec</code> object.</p><pre><code class="language-julia">julia&gt; using VegaLite, VegaDatasets

julia&gt; spec = dataset(&quot;cars&quot;) |&gt;
              @vlplot(:point, x=:Acceleration, y=:Cylinders)

julia&gt; spec.mark
:point

julia&gt; spec.encoding.x.field
&quot;Acceleration&quot;</code></pre><p>To modify properties, use <a href="https://github.com/jw3126/Setfield.jl">Setfield.jl</a>:</p><pre><code class="language-julia">julia&gt; using Setfield  # imports `@set` etc.

julia&gt; spec2 = @set spec.mark = :line
       spec3 = @set spec2.encoding.y.field = &quot;Miles_per_Gallon&quot;</code></pre><h2 id="Loading-and-saving-vega-lite-specifications-1"><a class="docs-heading-anchor" href="#Loading-and-saving-vega-lite-specifications-1">Loading and saving vega-lite specifications</a><a class="docs-heading-anchor-permalink" href="#Loading-and-saving-vega-lite-specifications-1" title="Permalink"></a></h2><p>The <code>load</code> and <code>save</code> functions can be used to load and save vega-lite specifications to and from disc. The following example loads a vega-lite specification from a file named <code>myfigure.vegalite</code>:</p><pre><code class="language-julia">using VegaLite

spec = load(&quot;myfigure.vegalite&quot;)</code></pre><p>To save a <code>VLSpec</code> to a file on disc, use the <code>save</code> function:</p><pre><code class="language-julia">using VegaLite

spec = ... # Aquire a spec from somewhere

spec |&gt; save(&quot;myfigure.vegalite&quot;)</code></pre><h2 id="[DataVoyager.jl](https://github.com/queryverse/DataVoyager.jl)-1"><a class="docs-heading-anchor" href="#[DataVoyager.jl](https://github.com/queryverse/DataVoyager.jl)-1"><a href="https://github.com/queryverse/DataVoyager.jl">DataVoyager.jl</a></a><a class="docs-heading-anchor-permalink" href="#[DataVoyager.jl](https://github.com/queryverse/DataVoyager.jl)-1" title="Permalink"></a></h2><p>The <a href="https://github.com/queryverse/DataVoyager.jl">DataVoyager.jl</a> package provides a graphical UI for data exploration that is based on vega-lite. One can use that tool to create a figure in the UI, and then export the corresponding vega-lite specification for use with this package here.</p><h2 id="Displaying-plots-1"><a class="docs-heading-anchor" href="#Displaying-plots-1">Displaying plots</a><a class="docs-heading-anchor-permalink" href="#Displaying-plots-1" title="Permalink"></a></h2><p><a href="https://github.com/queryverse/VegaLite.jl">VegaLite.jl</a> integrates into the default Julia multimedia system for viewing plots. This means that in order to show a plot <code>p</code> you would simply call the <code>display(p)</code> function. Most interactive Julia environments (REPL, IJulia, Jupyter Lab, nteract etc.) automatically call <code>display</code> on the value of the last interactive command for you.</p><p>Simply viewing plots should work out of the box in all known Julia environments. If you plan to use the interactive features of <a href="https://github.com/queryverse/VegaLite.jl">VegaLite.jl</a> the story becomes slightly more nuanced: while many environments (REPL, <a href="https://github.com/jupyterlab/jupyterlab">Jupyter Lab</a>, <a href="https://github.com/nteract/nteract">nteract</a>, <a href="https://github.com/queryverse/ElectronDisplay.jl">ElectronDisplay.jl</a>, <a href="https://www.julia-vscode.org/">VS Code</a>) support interactive <a href="https://github.com/queryverse/VegaLite.jl">VegaLite.jl</a> plots by default, there are others that either need some extra configuration work (<a href="http://jupyter.org/">Jupyter Notebook</a>), or don&#39;t support interactive plots.</p><h2 id="Saving-plots-1"><a class="docs-heading-anchor" href="#Saving-plots-1">Saving plots</a><a class="docs-heading-anchor-permalink" href="#Saving-plots-1" title="Permalink"></a></h2><p><a href="https://github.com/queryverse/VegaLite.jl">VegaLite.jl</a> plots can be saved as <a href="https://en.wikipedia.org/wiki/Portable_Network_Graphics">PNG</a>, <a href="https://en.wikipedia.org/wiki/Scalable_Vector_Graphics">SVG</a>, <a href="https://en.wikipedia.org/wiki/PDF">PDF</a>, <a href="https://en.wikipedia.org/wiki/Encapsulated_PostScript">EPS</a> and HTML files. You can save a plot by calling the <code>save</code> function:</p><pre><code class="language-julia">using VegaLite, VegaDatasets

p = dataset(&quot;cars&quot;) |&gt; @vlplot(:point, x=:Horsepower, y=:Miles_per_Gallon)

# Save as PNG file
save(&quot;figure.png&quot;, p)

# Save as SVG file
save(&quot;figure.svg&quot;, p)

# Save as PDF file
save(&quot;figure.pdf&quot;, p)

# Save EPS file
save(&quot;figure.eps&quot;, p)

# Save HTML file
save(&quot;figure.html&quot;, p)</code></pre><p>You can also use the <code>|&gt;</code> operator with the <code>save</code> function:</p><pre><code class="language-julia">using VegaLite, VegaDatasets

dataset(&quot;cars&quot;) |&gt;
    @vlplot(:point, x=:Horsepower, y=:Miles_per_Gallon) |&gt;
    save(&quot;figure.png&quot;)</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../gettingstarted/tutorial/">« Tutorial</a><a class="docs-footer-nextpage" href="../vlplotmacro/">The @vlplot command »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Wednesday 11 March 2020 20:03">Wednesday 11 March 2020</span>. Using Julia version 1.3.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
